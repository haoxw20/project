$(function(){var i=a($.cookie("shop")?$.cookie("shop"):"");for(var t in i){var o=i.sp1;$('<ul class="cart-good" id="sp1"><li>'+o.name+"</li><li>"+o.price+'</li><li class="num"><a href="javascript:;" class="minus">-</a><input type="text" name="" id="" value="'+o.num+'"/><a href="javascript:;" class="plus">+</a></li><li class="total">'+o.price*o.num+'  </li><span><a href="javascript:;" class="del"></a></span></ul>').appendTo($(".cart-list"))}function a(i){return i?JSON.parse(i):{}}$(".cart-list .cart-good .num .minus").click(function(){var i=$(this).parents(".cart-good").attr("id"),t=a($.cookie("shop")?$.cookie("shop"):"");1<t[i].num&&t[i].num--,$.cookie("shop",JSON.stringify(t),{expires:7,path:"/"}),$(this).next().val(t[i].num),$(this).parent().next().html(t[i].num*t[i].price)}),$(".cart-list .cart-good .num .plus").click(function(){var i=$(this).parents(".cart-good").attr("id"),t=a($.cookie("shop")?$.cookie("shop"):"");t[i].num++,$.cookie("shop",JSON.stringify(t),{expires:7,path:"/"}),$(this).prev().val(t[i].num),$(this).parent().next().html(t[i].num*t[i].price)}),$(".cart-list .cart-good .num input").blur(function(){var i=$(this).parents(".cart-good").attr("id"),t=a($.cookie("shop")?$.cookie("shop"):""),o=$(this).val();!isNaN(o)&&0<o?t[i].num=o:t[i].num=1,$.cookie("shop",JSON.stringify(t),{expires:7,path:"/"}),$(this).val(t[i].num),$(this).parent().next().html(t[i].num*t[i].price)}),$(".cart-list .cart-good .del").click(function(){$(this).parents(".cart-good").attr("id");$(this).parents(".cart-good").remove();var i=a($.cookie("shop")?$.cookie("shop"):"");$.cookie("shop",JSON.stringify(i),{expires:0,path:"/"})})});